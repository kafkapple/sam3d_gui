# SAM 3D GUI - 통합 모델 체크포인트 설정
# Hydra 기반 configuration

# SAM 2 설정 (Interactive segmentation)
sam2:
  name: "SAM 2 Hiera Large"
  # 프로젝트 루트 기준 상대 경로 (다중 서버 지원)
  # setup 스크립트가 external/sam2/checkpoints/에 다운로드
  checkpoint: "external/sam2/checkpoints/sam2_hiera_large.pt"
  config: "sam2_hiera_l.yaml"
  device: "auto"  # "auto" (GPU 자동 감지), "cuda", "cpu"
  # RTX 3060 및 A6000에서 사용 가능

  # Note: SAM 2.0 Hiera Large 사용
  # setup_system_cuda.sh에서 자동 다운로드됨
  # 상대 경로 사용으로 /home/joon/dev/sam3d_gui 및 /home/joon/sam3d_gui 모두 지원

  # Alternative models (commented out)
  # SAM 2.1 (별도 다운로드 필요):
  # checkpoint: "external/sam2/checkpoints/sam2.1_hiera_large.pt"
  # config: "configs/sam2.1/sam2.1_hiera_l.yaml"

  # SAM 2.1 Base+ (경량 모델):
  # checkpoint: "external/sam2/checkpoints/sam2.1_hiera_base_plus.pt"
  # config: "configs/sam2.1/sam2.1_hiera_b+.yaml"

# SAM 3D 설정 (3D reconstruction)
sam3d:
  name: "SAM 3D Objects"
  # 기본 경로: 프로젝트 external 서브모듈 (상대 경로로 다중 서버 지원)
  checkpoint_dir: "external/sam-3d-objects/checkpoints/hf"
  # 대체 경로: standalone 설치 (절대 경로 fallback)
  checkpoint_dir_alt: "${oc.env:HOME}/sam-3d-objects/checkpoints/hf"

  # 다운로드 안내
  download_url: "https://huggingface.co/facebook/sam-3d-objects"
  download_command: "# Run from sam-3d-objects directory:\n# python download_checkpoints.py"

# 데이터 경로 설정
data:
  default_dir: "${oc.env:HOME}/dev/data/markerless_mouse/"
  output_dir: "${oc.env:HOME}/dev/sam3d_gui/outputs/"

# 추론 설정
inference:
  sam2:
    multimask_output: true
    stability_score_thresh: 0.95

  sam3d:
    compile: false
    device: "cuda"

# 시각화 설정
visualization:
  foreground_color: [0, 255, 0]  # Green
  background_color: [255, 0, 0]  # Red
  point_size: 5
  point_border: 2
  mask_alpha: 0.4
